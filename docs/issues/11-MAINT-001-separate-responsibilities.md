# 🧾`MAINT-001 責務分離と例外統一`

## 🎯背景/目的

- View とファイル操作ロジックを分離し、拡張性とテスト容易性を高める。

## 📌要件

- 6（保守性）

## 🛠️スコープ / 作業内容

- View からファイル/設定操作をサービス層へ移譲し責務を整理する
- 例外発生時のメッセージとログ出力の扱いを統一する
- 既存の `src/extension.ts`/各 View の呼び出し構造を整理する
- UI/イベント/保存先: UI フローは維持し内部実装のみ整理（保存先は既存の `~/.codex`）
- 参照: `docs/01_requirements.md`, `docs/02_architect.md`

## ✅AC（受け入れ基準）

- [x] [機能] View から直接ファイル操作を行わずサービス層に集約されている
- [x] [状態/エラー] 例外時のユーザー向けメッセージが統一される
- [x] [テスト] サービス層をモックして View のユニットテストが実行できる

## 🔗依存関係

- DependsOn: #5、#7

## 🧪テスト観点

- (ユニット)
- 検証方法：サービス層のモックで View のテストが通ることを確認する


